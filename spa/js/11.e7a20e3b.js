(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{eeeb:function(t,a,e){"use strict";e.r(a);var s,r,o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"flex justify-center",attrs:{padding:""}},[e("div",{staticClass:"q-mt-md",style:"min-height: calc(100vh - 100px);width:"+(t.$q.screen.lt.sm?"18":"22")+"rem"},[e("q-card",{staticClass:"q-my-xl"},[e("q-card-section",{staticClass:"bg-blue-grey-2 text-center",class:{"text-indigo":"login"===t.tab,"text-secondary":"register"===t.tab}},[e("q-icon",{staticClass:"text-h1",attrs:{name:t.$app.config.brand_icon}}),e("div",[e("span",{staticClass:"text-h6"},[t._v(" "+t._s(t.$app.config.brand_name)+" ")]),e("span",{staticClass:"text-caption text-"},[t._v("V.1")])])],1),e("q-tabs",{attrs:{align:"justify","active-color":"white","active-bg-color":"register"===t.tab?"secondary":"indigo"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("q-tab",{attrs:{name:"login",label:"Login"}}),t.$auth.config.form_register?e("q-tab",{attrs:{name:"register",label:"Register"}}):t._e()],1),e("q-separator"),e("q-card-section",{staticClass:"q-py-none"},[e("q-tab-panels",{attrs:{animated:"","transition-prev":"scale","transition-next":"scale"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("q-tab-panel",{attrs:{name:"login"}},[e("auth-login",{staticClass:"fit",attrs:{flat:""},on:{done:t.logged,tab:function(a){return t.tab=a}}})],1),t.$auth.config.form_register?e("q-tab-panel",{attrs:{name:"register"}},[e("auth-register",{staticClass:"fit",attrs:{flat:""},on:{done:t.registered}})],1):t._e(),e("q-tab-panel",{staticClass:" text-center",attrs:{name:"forgot"}},[e("div",{staticClass:"text-h6 text-uppercase"},[t._v("Forgot Password")]),e("div",{staticClass:"clolumn text-grey"},[e("q-icon",{attrs:{name:"warning",size:"120px"}}),e("div",{staticClass:"q-mb-lg"},[t._v("\n                Sory, Forgot password is undercontraction!\n              ")])],1)])],1)],1)],1)],1),e("q-btn",{staticClass:"absolute-bottom-left ",class:t.$q.screen.lt.sm?"q-ma-sm":"q-ma-md",attrs:{to:"/",label:"Landing",color:"blue-grey",icon:"mdi-transfer-left"}})],1)},n=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",t._b({},"q-card",t.$attrs,!1),[e("q-form",{staticClass:"column",on:{submit:t.onSubmit}},[e("q-card-section",{staticClass:"q-col-gutter-lg no-padding"},[e("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",type:"email",id:"email",name:"body.email",color:"indigo",label:this.$t("auth.login.email"),autofocus:"",error:t.errors.has("body.email"),"error-message":t.errors.first("body.email")},model:{value:t.data.body.email,callback:function(a){t.$set(t.data.body,"email","string"===typeof a?a.trim():a)},expression:"data.body.email"}}),e("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",type:"password",id:"password",name:"body.password",label:this.$t("auth.login.password"),color:"indigo",error:t.errors.has("body.password"),"error-message":t.errors.first("body.password")},model:{value:t.data.body.password,callback:function(a){t.$set(t.data.body,"password",a)},expression:"data.body.password"}}),e("div",{staticClass:"row justify-between no-wrap q-my-sm"},[e("q-checkbox",{attrs:{id:"rememberMe",color:"indigo",label:this.$t("auth.login.remember_me")},model:{value:t.data.rememberMe,callback:function(a){t.$set(t.data,"rememberMe",a)},expression:"data.rememberMe"}}),e("q-space"),e("span",[e("q-btn",{attrs:{dense:"",flat:"","no-caps":"",size:"sm",tabindex:"100",label:t.$t("auth.login.password_forgot")},on:{click:function(a){return t.$emit("tab","forgot")}}})],1)],1)],1),e("q-card-actions",{staticClass:"no-padding"},[e("q-btn",{staticClass:"full-width",attrs:{type:"submit",color:"indigo",label:t.$t("auth.login.login")}})],1)],1)],1)},l=[],d=(e("551c"),e("06db"),e("097d"),{name:"MixForm",data:function(){var t=this;return{FORM:{response:{error:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof e&&(e={title:e}),e.color="negative",a.response){switch(e.message=a.response.data.message||a.response.statusText,a.response.status){case 401:"verification_required"===e.message&&(e.message=t.$t("auth.login.verification_required"));break;case 403:e.message=t.$t("auth.login.invalid_credentials");break}e.message="".concat(e.title,"<br><small>").concat(e.message,"</small>"),e.html=!0,console.error("[APP] - error response",a),t.$q.notify(e)}else console.error("[APP] - error resource",a),t.$q.notify("Resource Failed. Please contact administrator!")},validate:function(t){console.warn("FORM.error",t.response||t)}}}}}}),c=d,u=e("2877"),m=Object(u["a"])(c,s,r,!1,null,null,null),p=m.exports,b=e("7966"),f=e.n(b),h={name:"AuthLogin",mixins:[p],data:function(){var t=this;return{profile:null,data:{body:{email:"",password:""},rememberMe:!1},validations:{email:[function(a){return!!a||t.$t("auth.validations.required")},function(a){return f()(a)||t.$t("auth.validations.email")}],password:[function(a){return!!a||t.$t("auth.validations.required")}]}}},computed:{location:function(){return window.location.host}},created:function(){this.load()},methods:{load:function(){},onSubmit:function(){var t=this,a=function(){t.$q.loading.show(),t.$auth.login(t.data).then((function(){t.$emit("done")})).catch((function(a){t.RECORD.setErrorResponse(a.response||a)})).finally((function(){t.$q.loading.hide()}))};this.$validator.validate().then((function(t){if(!t)return!1;a()}))}}},g=h,w=e("f09f"),v=e("0378"),q=e("a370"),y=e("27f9"),$=e("8f8e"),x=e("2c91"),C=e("9c40"),_=e("4b7e"),P=e("eebe"),Q=e.n(P),k=Object(u["a"])(g,i,l,!1,null,null,null),O=k.exports;Q()(k,"components",{QCard:w["a"],QForm:v["a"],QCardSection:q["a"],QInput:y["a"],QCheckbox:$["a"],QSpace:x["a"],QBtn:C["a"],QCardActions:_["a"]});var S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",t._b({},"q-card",t.$attrs,!1),[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[e("q-card-section",{staticClass:"no-padding"},[e("q-input",{attrs:{dense:"",autofocus:"",autocomplete:"false",color:"secondary",type:"text",label:t.$t("auth.labels.name"),rules:t.validations["name"],"lazy-rules":""},model:{value:t.data.name,callback:function(a){t.$set(t.data,"name","string"===typeof a?a.trim():a)},expression:"data.name"}}),e("q-input",{attrs:{dense:"",id:"email",type:"email",color:"secondary",label:t.$t("auth.labels.email"),rules:t.validations["email"],"lazy-rules":""},model:{value:t.data.email,callback:function(a){t.$set(t.data,"email","string"===typeof a?a.trim():a)},expression:"data.email"}}),e("div",{staticClass:"row q-col-gutter-sm"},[e("q-input",{staticClass:"col",attrs:{dense:"",id:"password",color:"secondary",type:t.showPassword.password?"text":"password",label:t.$t("auth.labels.password"),"bottom-slots":"","no-error-icon":"",rules:t.validations["password"],required:"","lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.showPassword.password?"visibility":"visibility_off"},on:{click:function(a){t.showPassword.password=!t.showPassword.password}}})]},proxy:!0}]),model:{value:t.data.password,callback:function(a){t.$set(t.data,"password",a)},expression:"data.password"}}),e("q-input",{staticClass:"col",attrs:{dense:"",id:"repeatPassword",color:"secondary",type:t.showPassword.repeatPassword?"text":"password",label:t.$t("auth.labels.repeat_password"),"bottom-slots":"","no-error-icon":"",rules:t.validations["repeatPassword"],required:"","lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.showPassword.repeatPassword?"visibility":"visibility_off"},on:{click:function(a){t.showPassword.repeatPassword=!t.showPassword.repeatPassword}}})]},proxy:!0}]),model:{value:t.data.password_confirmation,callback:function(a){t.$set(t.data,"password_confirmation",a)},expression:"data.password_confirmation"}})],1)],1),e("q-card-actions",{staticClass:"no-padding"},[e("q-btn",{staticClass:"full-width",attrs:{label:t.$t("auth.register.register"),color:"secondary",type:"submit"}})],1)],1)],1)},R=[],j=(e("c5f6"),e("edd5")),A=e("1d89"),F=e("13d6"),L={name:"AuthRegister",mixins:[p],props:{minPasswordLength:{type:Number,default:8}},data:function(){var t=this;return{data:{name:"",email:"",password:"",password_confirmation:""},validations:{name:[function(a){return!!a||t.$t("auth.validations.required")},function(a){return Object(F["a"])(a)||t.$t("auth.validations.failed")}],email:[function(a){return!!a||t.$t("auth.validations.required")},function(a){return Object(j["a"])(a)||t.$t("auth.validations.email")}],password:[function(a){return!!a||t.$t("auth.validations.required")},function(a){return a.length>=t.minPasswordLength||t.$t("auth.validations.passwordLength",1,{v:t.minPasswordLength})}],repeatPassword:[function(a){return!!a||t.$t("auth.validations.required")},function(a){return Object(A["a"])(a,t.data.password)||t.$t("auth.validations.password_match")}]},showPassword:{password:!1,repeatPassword:!1}}},methods:{onSubmit:function(){var t=this;this.$q.loading.show(),this.$auth.register(this.data).then((function(){t.setLogin()})).catch((function(a){a.response&&(console.error("[APP] error response",a.response),422===a.response.status?t.$q.notify({message:t.$t("auth.register.invalid_data")}):409===a.response.status?t.$q.notify({message:t.$t("auth.register.already_registered")}):t.$q.notify({message:t.$t("auth.register.invalid_data")}))})).finally((function(){t.$q.loading.hide()}))},setLogin:function(){var t=this;this.$q.loading.show(),this.$auth.login({body:this.data}).then((function(){t.$emit("done")})).catch((function(a){t.FORM.response.validate(a),t.FORM.response.error(a,t.$tc("auth.login.failed"))})).finally((function(){t.$q.loading.hide()}))}}},M=L,z=e("0016"),E=Object(u["a"])(M,S,R,!1,null,null,null),T=E.exports;Q()(E,"components",{QCard:w["a"],QForm:v["a"],QCardSection:q["a"],QInput:y["a"],QIcon:z["a"],QCardActions:_["a"],QBtn:C["a"]});var I={name:"Authentication",components:{AuthLogin:O,AuthRegister:T},data:function(){return{tab:"login"}},methods:{logged:function(){this.$router.push("/admin/dashboard")},registered:function(){this.$router.push("/")}}},B=I,N=e("9989"),J=e("429b"),D=e("7460"),V=e("eb85"),G=e("adad"),H=e("823b"),K=Object(u["a"])(B,o,n,!1,null,null,null);a["default"]=K.exports;Q()(K,"components",{QPage:N["a"],QCard:w["a"],QCardSection:q["a"],QIcon:z["a"],QTabs:J["a"],QTab:D["a"],QSeparator:V["a"],QTabPanels:G["a"],QTabPanel:H["a"],QBtn:C["a"]})}}]);