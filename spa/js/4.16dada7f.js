(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0415":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center",attrs:{padding:""}},[a("q-card",{staticStyle:{width:"100%","min-height":"calc(100vh - 100px)"}},[a("q-bar",{staticClass:"bg-blue-grey text-white text-subtitle2",staticStyle:{height:"50px"}},[a("q-icon",{attrs:{name:"mdi-archive-arrow-up-outline",size:"20px"}}),a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n        LIST - BARANG KELUAR\n      ")]),a("q-btn",{attrs:{round:"",dense:"",outline:"",icon:"add"},on:{click:function(t){return e.form()}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"more_vert"}})],1),a("q-table",{staticStyle:{height:"calc(100vh - 140px)"},attrs:{grid:e.$q.screen.lt.sm,"card-container-style":"overflow-y:scroll",flat:e.$q.screen.lt.sm,bordered:e.$q.screen.lt.sm,data:e.TABLE.rs,columns:e.TABLE.columns,pagination:e.TABLE.pagination,"rows-per-page-options":e.TABLE.rowPageOptions,"rows-per-page-label":"LIMIT","pagination-label":function(t,a,r,i){return e.TABLE.pagination.last?e.TABLE.pagination.page+" of "+e.TABLE.pagination.last:""}},on:{"update:pagination":function(t){return e.$set(e.TABLE,"pagination",t)},request:e.TABLE.request},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.row;return[a("div",{staticClass:"q-pa-xs col-xs-12",class:{"col-xs-6":e.$q.screen.gt.xs}},[a("q-card",{staticClass:"cursor-pointer",attrs:{flat:"",bordered:""},on:{click:function(t){return e.view(r)}}},[a("q-card-section",{staticClass:"q-pa-sm",attrs:{horizontal:""}},[a("div",{staticClass:"column"},[a("label",{staticClass:"text-grey q-mb-sm"},[e._v("\n                  No. Reference\n                  "),a("br"),a("strong",{staticClass:"text-dark"},[e._v(e._s(r.reference_number||"-"))])]),a("label",{staticClass:"text-grey q-mb-sm"},[e._v("\n                  Market Reference\n                  "),a("br"),a("strong",{staticClass:"text-dark"},[e._v(e._s(r.reference))])])]),a("q-space"),a("div",{staticClass:"column"},[r.date?a("label",{staticClass:"text-grey-8"},[e._v("\n                  "+e._s(e.$app.moment(r.date).format("ll"))+"\n                ")]):e._e()])],1)],1)],1)]}},{key:"body-cell-prefix",fn:function(t){return a("q-td",{staticStyle:{width:"50px"},attrs:{props:t}},[a("q-btn",{attrs:{flat:"",dense:"",color:"blue-grey",icon:"wysiwyg"},on:{click:function(a){return e.view(t.row)}}})],1)}}])})],1)],1)},i=[],n=a("4dff"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:e.RECORD.dialog,attrs:{persistent:"",maximized:""}},[e.rsView?a("q-card",{staticStyle:{"min-height":"calc(100vh - 100px)"}},[a("q-bar",{staticClass:"bg-blue-grey text-white",staticStyle:{height:"47px"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{width:"25px"},attrs:{flat:"",icon:"arrow_back_ios"}}),a("q-toolbar-title",[e._v("PENGELUARAN BARANG")])],1),a("q-scroll-area",{class:{"q-px-sm":e.$q.screen.gt.sm},staticStyle:{height:"calc(100vh - 100px)",width:"100%"}},[a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"text-h6"},[e._v("Reference: "+e._s(e.rsView.reference))]),a("q-space"),e.rsView.date?a("div",[e._v("\n            "+e._s(e.$app.moment(e.rsView.date).format("ll"))+"\n          ")]):e._e()],1),e.$q.screen.lt.sm?a("div",{staticClass:"column q-gutter-sm"},e._l(e.rsView.loading_items,(function(t,r){return a("item-card",{key:r,attrs:{item:t.item},scopedSlots:e._u([{key:"body",fn:function(){return[a("div",[e._v("Serial: "+e._s(t.serial))])]},proxy:!0}],null,!0)})})),1):a("q-markup-table",{attrs:{flat:"",bordered:""}},[a("thead",[a("tr",[a("th",{key:"prefix"}),a("th",{staticClass:"text-center",attrs:{width:"20%"}},[e._v("Serial")]),a("th",{staticClass:"text-left",attrs:{width:"50%"}},[e._v("Name")]),a("th",{staticClass:"text-left",attrs:{width:"30%"}},[e._v("Note")])])]),a("tbody",e._l(e.rsView.loading_items,(function(t,r){return a("tr",{key:r},[a("td",{key:"prefix"},[e._v(e._s(r+1))]),a("td",{staticClass:"text-left"},[e._v("\n                "+e._s(t.serial)+"\n              ")]),a("td",{staticClass:"text-left"},[t.item?a("div",[e._v("\n                  "+e._s(t.item.name)+"\n                ")]):a("div",{staticClass:"text-italic"},[e._v("\n                  ITEM#"+e._s(t.item_id)+"\n                ")])]),a("td",{staticClass:"text-left"},[e._v("\n                "+e._s(t.notes)+"\n              ")])])})),0)])],1)],1),a("q-separator"),a("q-card-actions",{staticStyle:{height:"47px"},attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"blue-grey-5"}}),a("q-btn",{attrs:{flat:"",label:"Delete",color:"negative"},on:{click:function(t){return e.destroy()}}})],1)],1):e._e()],1)},o=[],l=(a("551c"),a("06db"),a("097d"),a("ca91")),c=a("6ff8"),d={name:"ReceiveView",mixins:[l["a"]],components:{ItemCard:c["a"]},data:function(){return{rsView:null,RECORD:{dialog:"dialog",api:"/api/loadings",params:{fields:"date,reference,reference.number",loading_items_fields:"id,serial,notes",loading_items_item_fields:"id,code,name",includes:"loading_items.item"}}}},created:function(){this.init()},methods:{init:function(){var e=this;this.RECORD.load((function(t){e.rsView=t}))},destroy:function(){var e=this,t=function(){e.$q.loading.show(),e.$axios.delete("".concat(e.RECORD.api,"/").concat(e.$props.id)).then((function(t){e.hide(),e.$emit("ok")})).catch((function(e){console.error(e.response||e)})).finally((function(){e.$q.loading.hide()}))};this.$q.dialog({title:"KONFIRMASI",message:"Yakin untuk menghapus data ?",ok:"Ya, Hapus",cancel:"Batal"}).onOk((function(){t()}))}}},u=d,m=a("2877"),p=a("24e8"),f=a("f09f"),g=a("d847"),v=a("9c40"),h=a("6ac5"),b=a("2c91"),_=a("4983"),q=a("a370"),y=a("2bb1"),x=a("eb85"),w=a("4b7e"),C=a("7f67"),O=a("eebe"),k=a.n(O),S=Object(m["a"])(u,s,o,!1,null,null,null),E=S.exports;k()(S,"components",{QDialog:p["a"],QCard:f["a"],QBar:g["a"],QBtn:v["a"],QToolbarTitle:h["a"],QSpace:b["a"],QScrollArea:_["a"],QCardSection:q["a"],QMarkupTable:y["a"],QSeparator:x["a"],QCardActions:w["a"]}),k()(S,"directives",{ClosePopup:C["a"]});var R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:e.RECORD.dialog,attrs:{persistent:"",maximized:""}},[e.rsForm?a("q-card",{staticStyle:{"min-width":"250px"}},[a("q-bar",{staticClass:"bg-blue-grey text-white",staticStyle:{height:"47px"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{width:"25px"},attrs:{flat:"",icon:"arrow_back_ios"}}),a("q-toolbar-title",[e._v("RECORD BARANG KELUAR")])],1),a("q-scroll-area",{class:{"q-px-sm":e.$q.screen.gt.sm},style:"height: calc("+e.FullHeight+" - 100px); width:100%"},[a("q-card-section",{staticClass:"q-gutter-sm"},[a("div",{staticClass:"row",class:{"column reverse":e.$q.screen.lt.sm}},[a("q-card",{attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"q-pa-sm"},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],staticClass:"fit",attrs:{label:"REFERENSI","stack-label":"","data-vv-as":"referensi",name:"reference_number",error:e.errors.has("reference_number"),"error-message":e.errors.first("reference_number")},model:{value:e.rsForm.reference_number,callback:function(t){e.$set(e.rsForm,"reference_number",t)},expression:"rsForm.reference_number"}}),a("div",{staticClass:"row q-col-gutter-sm"},[a("q-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"120px"},attrs:{label:"V.I.A","stack-label":"","no-error-icon":"",options:e.ViaOptions,name:"reference_via",error:e.errors.has("reference_via"),"error-message":e.errors.first("reference_via")},model:{value:e.rsForm.reference_via,callback:function(t){e.$set(e.rsForm,"reference_via",t)},expression:"rsForm.reference_via"}}),a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"date","input-style":"min-width:70px",label:"TGL. REFERENSI","stack-label":"","data-vv-as":"Tgl. referensi","no-error-icon":"",name:"reference_date",error:e.errors.has("reference_date"),"error-message":e.errors.first("reference_date")},model:{value:e.rsForm.reference_date,callback:function(t){e.$set(e.rsForm,"reference_date",t)},expression:"rsForm.reference_date"}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"no-padding",staticStyle:{width:"80px"},attrs:{slot:"after",type:"number",label:"BATCH","stack-label":"","no-error-icon":"",name:"reference_batch",error:e.errors.has("reference_batch")},slot:"after",model:{value:e.rsForm.reference_batch,callback:function(t){e.$set(e.rsForm,"reference_batch",t)},expression:"rsForm.reference_batch"}})],1)],1)],1)],1),a("q-space"),a("div",[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"col-12 col-md-3",attrs:{type:"date",label:"TGL. TRANSAKSI","data-vv-name":"date",name:"date",error:e.errors.has("date"),"error-message":e.errors.first("date")},model:{value:e.rsForm.date,callback:function(t){e.$set(e.rsForm,"date",t)},expression:"rsForm.date"}})],1)],1),e.$q.screen.lt.md?a("div",{staticClass:"column q-pa-xs"},[a("div",{staticClass:"text-h6"},[e._v("LIST BARANG")]),a("q-separator",{attrs:{spaced:"",inset:"",vertical:"",dark:""}}),a("div",{staticClass:"column"},e._l(e.rsForm.loading_items,(function(t,r){return a("q-card",{key:r,staticClass:"q-mb-sm"},[a("q-card-section",[a("q-badge",{staticClass:"cursor-pointer",staticStyle:{top:"0",right:"0","border-radius":"0"},attrs:{floating:"",color:"blue-grey"},on:{click:function(t){return e.removeItem(r)}}},[a("q-icon",{attrs:{name:"clear",size:"16px"}})],1),a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",borderless:"",readonly:"","hide-bottom-space":"",prefix:"SERIAL","input-class":"bg-blue-grey-2 text-weight-medium q-pl-sm q-my-sm on-right","data-vv-as":"Serial",name:"loading_items."+r+".serial",error:e.errors.has("loading_items."+r+".serial"),"error-message":e.errors.first("loading_items."+r+".serial")},model:{value:t.serial,callback:function(a){e.$set(t,"serial",a)},expression:"row.serial"}}),a("q-field",{attrs:{dense:"",outlined:"",readonly:"",loading:t.__serial_loading,error:e.errors.has("loading_items."+r+".item.id"),"error-message":e.errors.first("loading_items."+r+".item.id")}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"hidden",attrs:{slot:"control",type:"hidden",dense:"",borderless:"",readonly:"","hide-bottom-space":"",name:"loading_items."+r+".item.id","data-vv-as":"Item Barang"},slot:"control",model:{value:t.item,callback:function(a){e.$set(t,"item",a)},expression:"row.item"}}),t.item?a("div",{attrs:{slot:"control"},slot:"control"},[e._v(e._s(t.item.name))]):e._e()],1),a("q-input",{attrs:{dense:"",label:"Catatan",autogrow:""},model:{value:t.notes,callback:function(a){e.$set(t,"notes",a)},expression:"row.notes"}})],1)],1)})),1),a("q-input",{ref:"code",staticClass:"full-width",attrs:{type:"text",outlined:"",dense:"",value:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterCode(t)}}},[a("q-btn",{attrs:{slot:"after",glossy:"",color:"blue-grey",icon:"qr_code"},on:{click:e.scaningCode},slot:"after"})],1)],1):a("q-markup-table",{attrs:{flat:"",bordered:""}},[a("thead",[a("tr",[a("th",{key:"prefix"}),a("th",{staticClass:"text-center",attrs:{width:"20%"}},[e._v("Serial")]),a("th",{staticClass:"text-left",attrs:{width:"50%"}},[e._v("Name")]),a("th",{staticClass:"text-left",attrs:{width:"30%"}},[e._v("Note")])])]),a("tbody",[e._l(e.rsForm.loading_items,(function(t,r){return a("tr",{key:r},[a("td",{key:"prefix",staticClass:"text-blue-grey"},[e._v("\n                ("+e._s(r+1)+")\n              ")]),a("td",{staticClass:"text-left text-weight-medium"},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{"min-width":"150px"},attrs:{dense:"",outlined:"",disable:"","hide-bottom-space":"","no-error-icon":"","data-vv-as":"Serial",name:"loading_items."+r+".serial",error:e.errors.has("loading_items."+r+".serial"),"error-message":e.errors.first("loading_items."+r+".serial")},model:{value:t.serial,callback:function(a){e.$set(t,"serial",a)},expression:"row.serial"}},[a("q-btn",{attrs:{slot:"after",flat:"",dense:"",icon:"delete",color:"blue-grey"},on:{click:function(t){return e.removeItem(r)}},slot:"after"},[a("q-tooltip",[e._v("Hapus")])],1)],1)],1),a("td",{staticClass:"text-left"},[a("q-field",{attrs:{dense:"",outlined:"",readonly:"","hide-bottom-space":"",loading:t.__serial_loading,error:e.errors.has("loading_items."+r+".item.id"),"error-message":e.errors.first("loading_items."+r+".item.id")}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"hidden",attrs:{slot:"control",type:"hidden",dense:"",borderless:"",readonly:"","hide-bottom-space":"","data-vv-as":"Item Barang",name:"loading_items."+r+".item.id"},slot:"control",model:{value:t.item,callback:function(a){e.$set(t,"item",a)},expression:"row.item"}}),t.item?a("div",{attrs:{slot:"control"},slot:"control"},[e._v(e._s(t.item.name))]):e._e()],1)],1),a("td",{staticClass:"text-left"},[a("q-input",{staticStyle:{"min-width":"150px"},attrs:{dense:"",outlined:""},model:{value:t.notes,callback:function(a){e.$set(t,"notes",a)},expression:"row.notes"}})],1)])})),a("tr",[a("td",{attrs:{colspan:"100%"}},[a("q-input",{ref:"code",attrs:{type:"text",outlined:"",dense:"",filled:"",value:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterCode(t)}}},[a("q-btn",{attrs:{slot:"after",dense:"",glossy:"",color:"blue-grey",icon:"qr_code"},on:{click:e.scaningCode},slot:"after"})],1)],1)])],2)])],1)],1),a("q-space"),a("q-separator"),a("q-card-actions",{staticStyle:{height:"47px"},attrs:{align:"right"}},[a("q-btn",{attrs:{glossy:"",color:"grey",label:"Reset"},on:{click:e.reset}}),a("q-btn",{attrs:{glossy:"",color:"positive",label:"Save"},on:{click:e.save}})],1)],1):e._e()],1)},$=[],T=(a("8e6e"),a("8a81"),a("456d"),a("7f7f"),a("ac6a"),a("cadf"),a("8615"),a("7514"),a("c47a")),B=a.n(T),Q=a("4e44");function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){B()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I={name:"ReceiveForm",mixins:[l["a"]],data:function(){return{rsForm:null,RECORD:{dialog:"dialog",api:"/api/loadings",setForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D({reference_number:null,reference_via:null,reference_date:null,reference_batch:null,date:(new Date).toISOString().slice(0,10),loading_items:[]},e)},setFormItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D({serial:null,item:null,notes:null,__serial_loading:!1},e)}}}},created:function(){this.init()},computed:{FullHeight:function(){return window.innerHeight+"px"},ViaOptions:function(){return["STP-TP","STP-BL","STP-SH","STP-BLI","GDS-TP","GDS-BL","GDS-SH","GDS-BLI","COD","RSL"]}},methods:{init:function(){this.rsForm=this.RECORD.setForm()},loadSerial:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==a&&(this.rsForm.loading_items[a].__serial_loading=!0),this.$axios.get("/api/items/serial/".concat(e)).then((function(e){e.data.item&&(t.rsForm.loading_items[a].item=e.data.item)})).catch((function(e){console.error(e.response||e)})).finally((function(){null!==a&&(t.rsForm.loading_items[a].__serial_loading=!1)}))},enterCode:function(e){this.addNewItem(e.target.value),e.target.value=""},scaningCode:function(){var e=this;this.$q.dialog({parent:this,component:Q["a"]}).onOk((function(t){e.addNewItem(t)}))},addNewItem:function(e){if(!String(e).length)return this.$q.notify({message:"Please enter code..",textColor:"white",type:"warning"});this.rsForm.loading_items.find((function(t){return t.serial===e}))?this.$q.notify({type:"negative",message:"Serial has been added."}):(this.rsForm.loading_items.push(this.RECORD.setFormItem({serial:e,item:null})),this.loadSerial(e,this.rsForm.loading_items.length-1))},removeItem:function(e){this.rsForm.loading_items.splice(e,1)},reset:function(){var e=this,t=function(){e.init()};this.$q.dialog({title:"RESET",message:"Konfirmasi reset data",ok:"Ya, Reset",cancel:"Batal"}).onOk((function(){t()}))},save:function(){var e=this,t=function(){e.$q.loading.show(),e.$axios.post(e.RECORD.api,e.rsForm).then((function(t){var a="LOADING ".concat(t.data.reference," CREATED!");e.$q.notify({type:"positive",message:a}),e.$emit("ok"),e.hide()})).catch((function(t){e.RECORD.setErrorResponse(t.response||t);var a={code:0,text:"SAVE INVALID"};t.response&&(t.statusText&&(a.text=t.response.statusText),t.response.data&&t.response.data.message&&(a=t.response.data.message)),e.$q.notify({type:"negative",message:a})})).finally((function(){e.$q.loading.hide()}))};this.$validator.validate().then((function(a){if(!a)return e.$q.notify({type:"negative",message:"SUBMIT FAILED"});var r=e.rsForm.loading_items.length,i=Object.values(e.$function.groupBy(e.rsForm.loading_items,(function(e){return e.item.id}))).map((function(e){return e.length?"(".concat(e.length,") ").concat(e[0].item.name):null})).join("<BR>");e.$q.dialog({title:"SIMPAN",html:!0,message:"".concat(i,"<BR><B>Konfirmasi keluar (").concat(r,") total unit<b>"),ok:"Ya, Simpan",cancel:"Batal"}).onOk((function(){t()}))}))}}},F=I,L=a("27f9"),N=a("ddd8"),P=a("58a8"),j=a("0016"),G=a("8572"),V=a("05c0"),M=Object(m["a"])(F,R,$,!1,null,null,null),H=M.exports;k()(M,"components",{QDialog:p["a"],QCard:f["a"],QBar:g["a"],QBtn:v["a"],QToolbarTitle:h["a"],QSpace:b["a"],QScrollArea:_["a"],QCardSection:q["a"],QInput:L["a"],QSelect:N["a"],QSeparator:x["a"],QBadge:P["a"],QIcon:j["a"],QField:G["a"],QMarkupTable:y["a"],QTooltip:V["a"],QCardActions:w["a"]}),k()(M,"directives",{ClosePopup:C["a"]});var z={name:"LoadingIndex",mixins:[n["a"]],data:function(){var e=this;return{TABLE:{api:"/api/loadings",params:{fields:"id,date,reference,reference_number"},rs:[],columns:[{name:"prefix"},{name:"date",field:"date",format:function(t){return t?e.$app.moment(t).format("L"):"-"},label:"Date",align:"left"},{name:"reference_number",field:"reference_number",label:"No. Reference",align:"left"},{name:"reference",field:"reference",label:"Market",align:"left"}],pagination:{sortBy:"date",descending:!0,page:1,rowsPerPage:10,rowsNumber:0}}}},created:function(){this.init()},computed:{},methods:{init:function(){this.TABLE.request()},form:function(){var e=this;this.$q.dialog({component:H,parent:this,mode:"create",id:null}).onOk((function(){e.init()}))},view:function(e){var t=this;this.$q.dialog({component:E,parent:this,mode:"read",id:e.id}).onOk((function(){t.init()}))}}},K=z,J=a("9989"),U=a("eaac"),Y=a("db86"),W=Object(m["a"])(K,r,i,!1,null,null,null);t["default"]=W.exports;k()(W,"components",{QPage:J["a"],QCard:f["a"],QBar:g["a"],QIcon:j["a"],QToolbarTitle:h["a"],QBtn:v["a"],QTable:U["a"],QCardSection:q["a"],QSpace:b["a"],QTd:Y["a"]})},"4dff":function(e,t,a){"use strict";a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("551c"),a("06db"),a("097d"),a("f751");var r=a("c47a"),i=a.n(r);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o,l,c={name:"MixTable",data:function(){var e=this;return{TABLE:{api:null,params:[],rs:[],columns:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10,rowsNumber:0},rowPageOptions:[10,20,25,50,100,250,500,"all"],request:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=function(t){e.TABLE.pagination=s(s({},e.TABLE.pagination),{},{last:t.data.last_page,page:t.data.current_page,rowsPerPage:t.data.per_page,rowsNumber:t.data.total})};e.TABLE.pagination=Object.assign(e.TABLE.pagination,t.pagination||{}),e.$q.loading.show(),e.$axios.get(e.TABLE.api,{params:s(s({},e.TABLE.params),{},{pagetable:e.TABLE.pagination})}).then((function(t){a(t),e.TABLE.rs=[],t.data.data.map((function(t){e.TABLE.rs.push(t)}))})).catch((function(e){console.error(e.response||e)})).finally((function(){e.$q.loading.hide()}))}}}}},d=c,u=a("2877"),m=Object(u["a"])(d,o,l,!1,null,null,null);t["a"]=m.exports},"4e44":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",attrs:{persistent:"",maximized:""}},[a("q-card",[a("q-bar",{staticClass:"bg-blue-grey text-white"},[e.$app.env.DEV?a("q-btn",{attrs:{dense:"",flat:"",icon:"qr_code"},on:{click:function(t){return e.onDecode("1234567890")}}},[a("q-tooltip",[e._v(" TESTING ")])],1):e._e(),a("q-toolbar-title",[e._v("CODE SCANING")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",[e._v("Close")])],1)],1),a("q-card-section",[a("StreamBarcodeReader",{on:{decode:e.onDecode,loaded:e.onLoaded}})],1)],1)],1)},i=[],n=a("f337"),s={name:"CodeScanner",components:{StreamBarcodeReader:n["a"]},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDecode:function(e){this.$emit("ok",e),this.hide()},onLoaded:function(e){}}},o=s,l=a("2877"),c=a("24e8"),d=a("f09f"),u=a("d847"),m=a("9c40"),p=a("05c0"),f=a("6ac5"),g=a("2c91"),v=a("a370"),h=a("7f67"),b=a("eebe"),_=a.n(b),q=Object(l["a"])(o,r,i,!1,null,null,null);t["a"]=q.exports;_()(q,"components",{QDialog:c["a"],QCard:d["a"],QBar:u["a"],QBtn:m["a"],QTooltip:p["a"],QToolbarTitle:f["a"],QSpace:g["a"],QCardSection:v["a"]}),_()(q,"directives",{ClosePopup:h["a"]})},"6ff8":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fit"},[e.Item?a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6 text-no-wrap ellipsis"},[e._v(e._s(e.Item.name))]),a("div",{staticClass:"text-subtitle2"},[e._v("#"+e._s(e.Item.code))])]),a("q-card-section",[e._t("body",null,{item:e.Item})],2)],1):a("skeleton-card",{attrs:{avatar:"",box:""}})],1)},i=[],n=(a("c5f6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",[e.avatar?a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-skeleton",{attrs:{type:"QAvatar"}})],1),a("q-item-section",[a("q-item-label",[a("q-skeleton",{attrs:{type:"text"}})],1),a("q-item-label",{attrs:{caption:""}},[a("q-skeleton",{attrs:{type:"text"}})],1)],1)],1):e._e(),e.box?a("q-skeleton",{attrs:{height:"100px",square:""}}):e._e(),e.action?a("q-card-actions",{staticClass:"q-gutter-md",attrs:{align:"right"}},[a("q-skeleton",{attrs:{type:"QBtn"}}),a("q-skeleton",{attrs:{type:"QBtn"}})],1):e._e()],1)}),s=[],o={name:"SkeletonCard",props:{avatar:Boolean,action:Boolean,box:Boolean}},l=o,c=a("2877"),d=a("f09f"),u=a("66e5"),m=a("4074"),p=a("293e"),f=a("0170"),g=a("4b7e"),v=a("eebe"),h=a.n(v),b=Object(c["a"])(l,n,s,!1,null,null,null),_=b.exports;h()(b,"components",{QCard:d["a"],QItem:u["a"],QItemSection:m["a"],QSkeleton:p["a"],QItemLabel:f["a"],QCardActions:g["a"]});var q={name:"ItemCard",components:{SkeletonCard:_},props:{id:Number,item:Object},data:function(){return{loading:!0,api:"/api/items",row:null}},created:function(){this.init()},computed:{Item:function(){return this.item||this.row}},methods:{init:function(){var e=this;this.item||(console.warn("GET","".concat(this.api,"/").concat(this.$props.id)),this.$axios.get("".concat(this.api,"/").concat(this.$props.id)).then((function(t){setTimeout((function(){e.row=JSON.parse(JSON.stringify(t.data))}),500)})).catch((function(e){console.error(e.response||e)})))}}},y=q,x=a("a370"),w=Object(c["a"])(y,r,i,!1,null,null,null);t["a"]=w.exports;h()(w,"components",{QCard:d["a"],QCardSection:x["a"]})},ca91:function(e,t,a){"use strict";a("f751"),a("551c"),a("06db"),a("097d"),a("c5f6");var r,i,n={name:"MixRecord",props:{mode:{type:String,default:"create"},id:Number},data:function(){var e=this;return{RECORD:{dialog:null,api:null,params:{fields:"*"},load:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("create"===e.mode)return t(e.RECORD.setForm());"update"!==e.mode&&"read"!==e.mode||(e.$q.loading.show(),e.$axios.get("".concat(e.RECORD.api,"/").concat(e.$props.id),{params:e.RECORD.params}).then((function(a){e.RECORD.data=a.data,t(a.data)})).catch((function(t){a||e.$q.notify({type:"negative",message:"RECORD #".concat(e.$props.id," LOAD FAILED!")}),a(t.response||t)})).finally((function(){e.$q.loading.hide()})))},setForm:function(){return{}},setErrorResponse:function(e){var t=Object.assign({},e),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t.status&&422===t.status&&this.$validator&&t.data&&t.data.errors){this.$validator.errors.clear();var r=t.data.errors,i=a?{scope:a}:{};for(var n in r)if(n){var s=Object.assign({field:n,msg:r[n][0]},i);this.$validator.errors.add(s)}}}}}},methods:{show:function(){this.RECORD.dialog&&this.$refs[this.RECORD.dialog].show()},hide:function(){this.RECORD.dialog&&this.$refs[this.RECORD.dialog].hide()}}},s=n,o=a("2877"),l=Object(o["a"])(s,r,i,!1,null,null,null);t["a"]=l.exports}}]);